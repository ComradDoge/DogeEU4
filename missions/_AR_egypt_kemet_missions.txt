
# Kush and Kemet
#####################

ar_egypt_kush_middle_left = {
    slot = 2                   
    generic = no             
    ai = yes              
    has_country_shield = yes  
    
    potential = {
        tag = EGP
    }
    
    ar_egypt_kush_upper_egypt = {
        icon = ar_upper_egypt     
        position = 1
        
    
        required_missions = {
            
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = gulf_of_arabia_area
                area = vostani_area
                area = al_wahat_area
                area = said_area
            }
            OR = {
                NOT = {
                    owned_by = ROOT
                }
                NOT = {
                    is_core = ROOT
                }
                local_autonomy = 10
            }
        }
    
        
        trigger = {
            gulf_of_arabia_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            vostani_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
            }
            al_wahat_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            said_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
        }
        
    
        effect = {
            add_adm_power = 100
            add_legitimacy = 10
        }
    }

    ar_egypt_kush_patronise_artists = {
        icon = mission_noble_council
        position = 2

        provinces_to_highlight = {
            province_id = 358
        }

        required_missions = {
            ar_egypt_religious_crossroad
        }

        trigger = {
            custom_trigger_tooltip = {
                tooltip = ar_egypt_aegyptos_legitimate_kingdom.crossroadsFaith.tooltip
                has_country_flag = ar_egypt_completed_crossroadFaith_chain
            }
            NOT = {
                is_in_deficit = yes
            }
            treasury = 5000
            OR = {
                natural_scientist = 3
                statesman = 3
                artist = 3
            }
            capital_scope = {
                owned_by = ROOT
                is_prosperous = yes
                development = 40
                province_has_center_of_trade_of_level = 3
            }
        }

        effect = {
            custom_tooltip = ar_monument_access_tooltip
            add_treasury = -5000
            hidden_effect = {
                set_global_flag = ar_rebuilt_great_lightouse
                358 = {
                    add_great_project = {
                        type = ar_egypt_great_lighthouse
                        instant = yes
                    }
                }
                set_global_flag = ar_rebuilt_great_library
                358 = {
                    add_great_project = {
                        type = ar_egypt_library
                        instant = yes
                    }
                }
                set_global_flag = ar_rebuilt_cairo_market
                361 = {
                    add_great_project = {
                        type = ar_egypt_cairomarket
                        instant = yes
                    }
                }
                set_global_flag = ar_rebuilt_deirelmedina
                360 = {
                    add_great_project = {
                        type = ar_egypt_derelmedina
                        instant = yes
                    }
                }
                set_global_flag = ar_rebuilt_valleyofkings
                360 = {
                    add_great_project = {
                        type = ar_egypt_valleyofkings
                        instant = yes
                    }
                }
            }
            #country_event = {
            #    id = ar_egypt_aegyptos_mission.3
            #}
        }
    }

    ar_egypt_kush_nubia = {
        icon = mission_bedouins   
        position = 3
        
    
        required_missions = {
            ar_egypt_kush_legitimise_kingdom
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = lower_nubia_area
                area = upper_nubia_area
                area = dongola_area
            }
            OR = {
                NOT = {
                    is_core = ROOT
                }
                NOT = {
                    owned_by = ROOT
                }
            }
        }
    
        
        trigger = {
            lower_nubia_area  = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            upper_nubia_area  = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            dongola_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
        }
        
    
        effect = {
            add_country_modifier = {
                name = ar_egypt_nubian_cavalry
                duration = 7300
            }

            red_sea_coast_area = {
                add_permanent_claim = ROOT
            }
            tigray_area = {
                add_permanent_claim = ROOT
            }
            aussa_area = {
                add_permanent_claim = ROOT
            }
            tihama_al_yemen_area = {
                add_permanent_claim = ROOT
            }
            yemen_area = {
                add_permanent_claim = ROOT
            }
            upper_yemen_area = {
                add_permanent_claim = ROOT
            }
            tihama_al_yemen_area = {
                add_permanent_claim = ROOT
            }
        }
    }

    ar_egypt_kush_revitalise_mining = {
        icon = mission_zambezi_gold   
        position = 4
        
    
        required_missions = {
            ar_egypt_kush_nubia
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = dongola_area
                area = lower_nubia_area
                area = upper_nubia_area
            }
            OR = {
                NOT = {
                    base_production = 15
                }
                NOT = {
                    num_of_times_improved_by_owner = 10
                }
                NOT = {
                    owned_by = ROOT
                }
            }
        }
    
        
        trigger = {
            num_of_owned_provinces_with = {
                OR = {
                    area = dongola_area
                    area = lower_nubia_area
                    area = upper_nubia_area
                }
                AND = {
                    owned_by = ROOT
                    base_production = 15
                    num_of_times_improved_by_owner = 5
                }  
                value = 2
            }
        }
            
        effect = {
            custom_tooltip = ar_egypt_aegyptos_gold_mines.completion.tooltip
            hidden_effect = {
                random_owned_province = {
                    limit = {
                        OR = {
                            area = dongola_area
                            area = lower_nubia_area
                            area = upper_nubia_area
                        }
                        AND = {
                            owned_by = ROOT
                            base_production = 15
                            num_of_times_improved_by_owner = 10
                        }
                        NOT = {
                            trade_goods = gold
                        }  
                    }
                    change_trade_goods = gold
                    add_province_modifier = {
                        name = ar_egypt_gold_nubia
                        duration = -1
                    }
                }
                random_owned_province = {
                    limit = {
                        OR = {
                            area = dongola_area
                            area = lower_nubia_area
                            area = upper_nubia_area
                        }
                        AND = {
                            owned_by = ROOT
                            base_production = 15
                            num_of_times_improved_by_owner = 10
                        }
                        NOT = {
                            trade_goods = gold
                        }  
                    }
                    change_trade_goods = gold
                    add_province_modifier = {
                        name = ar_egypt_gold_nubia
                        duration = -1
                    }
                }
            }
        }
    }

    ar_egypt_kush_egyptian_art = {
        icon = mission_african_trade_post
        position = 5
        
    
        required_missions = {
            ar_egypt_kush_revitalise_mining
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = said_area
                area = vostani_area
                area = delta_area
                area = bahari_area
            }
            NOT = {
                owned_by = ROOT
            }
            NOT = {
                has_building = mills
            }
            NOT = {
				has_building = plantations
            }
            NOT = {
				has_building = weapons
            }
            NOT = {
				has_building = textile
            }
            NOT ={
				has_building = wharf
            }
            NOT = {
				has_building = furnace
            }
            NOT = {
				has_building = tradecompany
            }
        }
    
        
        trigger = {
            OR = {
                full_idea_group = economic_ideas
                full_idea_group = trade_ideas
                full_idea_group = administrative_ideas
            }
            delta_area = {
                type = all
                owned_by = ROOT
                custom_trigger_tooltip = {
                    tooltip = hasTradeGoodsManufactory.tooltip
                    OR = {
						has_building = mills
						has_building = farm_estate
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
						has_building = wharf
						has_building = furnace
					}
                }
            }
            bahari_area = {
                type = all
                owned_by = ROOT
                custom_trigger_tooltip = {
                    tooltip = hasTradeGoodsManufactory.tooltip
                    OR = {
						has_building = mills
						has_building = farm_estate
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
						has_building = wharf
						has_building = furnace
					}
                }
            }
            vostani_area = {
                type = all
                owned_by = ROOT
                custom_trigger_tooltip = {
                    tooltip = hasTradeGoodsManufactory.tooltip
                    OR = {
						has_building = mills
						has_building = farm_estate
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
						has_building = wharf
						has_building = furnace
					}
                }
            }
            said_area = {
                type = all
                owned_by = ROOT
                custom_trigger_tooltip = {
                    tooltip = hasTradeGoodsManufactory.tooltip
                    OR = {
						has_building = mills
						has_building = farm_estate
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
						has_building = wharf
						has_building = furnace
					}
                }
            }
        }
        
        effect = {
            custom_tooltip = unlockCraftsmenReform.toolip
            hidden_effect = {
                set_country_flag = ar_egypt_nile_craftsmen
            }

            custom_tooltip = allEgyptianProvincesProsperityOrBaseTax.tooltip

            hidden_effect = {
                delta_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }
                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                red_sea_coast_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                bahari_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                vostani_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                delta_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                cyrenaica_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                al_wahat_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                said_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                lower_nubia_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                dongola_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
                gulf_of_arabia_area = {
                    if = {
                        limit = {
                            is_prosperous = yes
                        }
                        random_list = {
                            50 = {
                                add_base_tax = 1
                            }
                            50 = {
                                add_base_tax = 2
                            }
                        }                    }
                    else = {
                        add_prosperity = 20
                    }
                }
            }
        }
    }

    ar_egypt_kush_pharaohs_canal = {
        icon = mission_rb_seize_alexandria
        position = 6
        
    
        required_missions = {
            ar_egypt_kush_egyptian_art
            ar_egypt_dominate_trade_horn
        }
        
        
        provinces_to_highlight = {
            OR = {
                province_id = 2315
                province_id = 4316
            }
            NOT = {
                has_building = counting_house
            }
            NOT = {
                has_building = workshop
            }
            NOT = {
                development = 20
            }
        }
    
        
        trigger = {
            adm_power = 200
            natural_scientist = 5
            OR = {
                has_institution = manufactories
                innovativeness = 50
            }
            2315 = {
                owned_by = ROOT
                development = 20
                OR = {
                    has_building = workshop
                    has_building = counting_house
                }
            }
            4316 = {
                owned_by = ROOT
                development = 20
                OR = {
                    has_building = workshop
                    has_building = counting_house
                }
            }
            4316 = {
                NOT = {
                    has_great_project = {
                        type = suez_canal
                    }
                }
            }
        }
        
    
        effect = {
            add_adm_power = -200

            4316 = {
                add_base_tax = -4
                add_base_production = -4
                add_base_tax = -2
                add_province_modifier = {
                    name = ar_egypt_canal_building
                    duration = 18250
                }
            }
            2315 = {
                add_base_tax = -4
                add_base_production = -4
                add_base_tax = -2
                add_province_modifier = {
                    name = ar_egypt_canal_building
                    duration = 18250
                }
            }

            custom_tooltip = reduceRequiremnentsSuezCanal.tooltip

            hidden_effect = {
                set_global_flag = ar_egypt_canal_pharaohs
            }
        }
    }
}

ar_egypt_kush_middle = {
    slot = 3                   
    generic = no             
    ai = yes              
    has_country_shield = yes  
    
    potential = {
        tag = EGP
    }
    
    ar_egypt_kush_legitimise_kingdom = {
        icon = mission_restore_faith_in_the_throne   
        position = 2
        
    
        required_missions = {
            ar_egypt_kush_upper_egypt
            ar_egypt_kush_lower_egypt
        }
        
        
        provinces_to_highlight = {
        }
    
        
        trigger = {
            stability = 2
            legitimacy = 90
            NOT = {
                average_unrest = 1
            }
            NOT = {
                num_of_rebel_armies = 1
            }
            if = {
                limit = {
                    has_regency = yes
                }
                if = {
                    limit = {
                        has_estate_led_regency = {
                            estate = estate_nobles
                        }
                    }
                    estate_loyalty = {
                        estate = estate_nobles
                        loyalty = 60
                    }
                    NOT = {
                        estate_influence = {
                            influence = 60
                            estate = estate_nobles
                        }
                    }
                }
                if = {
                    limit = {
                        has_estate_led_regency = {
                            estate = estate_church
                        }
                    }
                    estate_loyalty = {
                        estate = estate_church
                        loyalty = 60
                    }
                    NOT = {
                        estate_influence = {
                            influence = 60
                            estate = estate_church
                        }
                    }
                }
                if = {
                    limit = {
                        has_estate_led_regency = {
                            estate = estate_burghers
                        }
                    }
                    estate_loyalty = {
                        estate = estate_burghers
                        loyalty = 60
                    }
                    NOT = {
                        estate_influence = {
                            influence = 60
                            estate = estate_burghers
                        }
                    }
                }
            }
            else = {
                estate_loyalty = {
                    estate = all
                    loyalty = 50
                }
            }
        }
        
    
        effect = {
            if = {
                limit = {
                    government = monarchy
                    NOT = {
                        has_reform = pharaonic_monarchy
                    }
                }
                add_government_reform = pharaonic_monarchy
            }
            else = {
                change_government_reform_progress = 100
            }
            lower_nubia_area = {
                add_permanent_claim = ROOT
            }
            upper_nubia_area = {
                add_permanent_claim = ROOT
            }
            dongola_area = {
                add_permanent_claim = ROOT
            }
            palestine_area = {
                add_permanent_claim = ROOT
            }
            syria_area = {
                add_permanent_claim = ROOT
            }
            aleppo_area = {
                add_permanent_claim = ROOT
            }
            al_jazira_area = {
                add_permanent_claim = ROOT
            }
            trans_jordan_area = {
                add_permanent_claim = ROOT
            }
            syrian_desert_area = {
                add_permanent_claim = ROOT
            }
        }
    }

    ar_egypt_kush_punish_levantites = {
        icon = mission_reconquer_ceuta
        position = 3
        
    
        required_missions = {
            ar_egypt_kush_legitimise_kingdom
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = palestine_area
                area = syria_area
                area = aleppo_area
                area = syrian_desert_area
                area = trans_jordan_area
                area = al_jazira_area
            }
            NOT = {
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
    
        
        trigger = {
            palestine_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            syria_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            aleppo_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            al_jazira_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            trans_jordan_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            syrian_desert_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
        }
        
    
        effect = {
            random_owned_area = {
                limit = {
                    is_capital = yes
                }
                add_base_tax = 6
                add_base_manpower = 6
            }
            palestine_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }
            syria_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }
            aleppo_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }
            al_jazira_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }
            trans_jordan_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }
            syrian_desert_area = {
                add_devastation = 25
                add_base_manpower = -1
                add_base_tax = -1
                add_unrest = 5
            }

            dulkadir_area = {
                add_permanent_claim = ROOT
            }
            cukurova_area = {
                add_permanent_claim = ROOT
            }
            karaman_area = {
                add_permanent_claim = ROOT
            }
            rum_area = {
                add_permanent_claim = ROOT
            }
            ankara_area = {
                add_permanent_claim = ROOT
            }
        }
    }

    ar_egypt_kush_conquer_punt = {
        icon = mission_reconquer_ceuta
        position = 4
        
    
        required_missions = {
            ar_egypt_kush_nubia
        }
        
        
        provinces_to_highlight = {
            OR = {
                AND = {
                    OR = {
                        area = yemen_area
                        area = upper_yemen_area
                        area = tigray_area
                        area = red_sea_coast_area
                        area = aussa_area
                    }
                    NOT = {
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                }
            }
        }
    
        
        trigger = {
            red_sea_coast_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            tigray_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            aussa_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            tihama_al_yemen_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            yemen_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            upper_yemen_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            tihama_al_yemen_area = {
                country_or_non_sovereign_subject_holds = ROOT
                type = all
            }
            
        }
        
    
        effect = {
            338 = {
                add_permanent_claim = ROOT
            }
            4279 = {
                add_permanent_claim = ROOT
            }
            1212 = {
                add_permanent_claim = ROOT
            }
            2783 = {
                add_permanent_claim = ROOT
            }
            1205 = {
                add_permanent_claim = ROOT
            }

            custom_tooltip = enableAfricanHornConquestCB.tooltip

            hidden_effect = {
                set_country_flag = ar_egypt_punt_campaign
            }
        }
    }

    ar_egypt_dominate_trade_horn = {
        icon = mission_mal_riches_of_trade
        position = 5
        
    
        required_missions = {
            ar_egypt_kush_conquer_punt
        }
        
        
        provinces_to_highlight = {
            region = horn_of_africa_region
            NOT = {
                country_or_subject_holds = ROOT
            }
        }
    
        
        trigger = {
            horn_of_africa_region = {
                country_or_subject_holds = ROOT
                type = all
            }
            338 = {
                country_or_non_sovereign_subject_holds = ROOT
                province_has_center_of_trade_of_level = 2
            }
            4279 = {
                country_or_non_sovereign_subject_holds = ROOT
                province_has_center_of_trade_of_level = 2
            }
            1212 = {
                country_or_non_sovereign_subject_holds = ROOT
                province_has_center_of_trade_of_level = 2
            }
            2783 = {
                country_or_non_sovereign_subject_holds = ROOT
                province_has_center_of_trade_of_level = 2
            }
            1205 = {
                country_or_non_sovereign_subject_holds = ROOT
                province_has_center_of_trade_of_level = 2    
            }
        }
        
        effect = {
            add_country_modifier = {
                name = ar_egypt_kush_gilded_horn
                duration = -1
            }
        }
    }
}


ar_egypt_kush_middle_right = {
    slot = 4                   
    generic = no             
    ai = yes              
    has_country_shield = yes  
    
    potential = {
        tag = EGP
    }
    
    ar_egypt_kush_lower_egypt = {
        icon = ar_lower_egypt 
        position = 1
        
    
        required_missions = {
        }
       
        
        provinces_to_highlight = {
            OR = {
                area = delta_area
                area = bahari_area
                area = cyrenaica_area
            }
            OR = {
                NOT = {
                    owned_by = ROOT
                }
                NOT = {
                    is_core = ROOT
                }
                local_autonomy = 10
            }
        }
    
        
        trigger = {
            delta_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            bahari_area  = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            cyrenaica_area  = {
                type = all
                owned_by = ROOT
                is_core = ROOT
                NOT = {
                    local_autonomy = 10
                }
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
        }
        
        effect = {
            add_adm_power = 100
            add_legitimacy = 10
        }
    }

    ar_egypt_kush_army_egypt = {
        icon = mission_egyptian_mamluk_soldier
        position = 1
        
    
        required_missions = {
            ar_egypt_kush_economic_reforms
        }
        
        
        provinces_to_highlight = {
        }
    
        
        trigger = {
            army_size = 40
            custom_trigger_tooltip = {
                tooltip = ar_egypt.notInADeficit.tooltip
                NOT = {
                    is_in_deficit = yes
                }
                land_maintenance = 1
            }
            OR = {
                mil = 6
                commandant = 5
                army_reformer = 5
            }
        }
        
    
        effect = {
            country_event = {
                id = ar_egypt_aegyptos_mission.1
            }
        }
    }

    ar_egypt_kush_fleet = {
        icon = mission_arabian_sea_trade
        position = 3
        
    
        required_missions = {
            ar_egypt_kush_legitimise_kingdom
        }
        
        
        provinces_to_highlight = {
            owned_by = ROOT
            has_port = yes
            OR = {
                NOT = {
                    has_building = shipyard
                }
                NOT = {
                    has_building = grand_shipyard
                }
            }
            OR = {
                NOT = {
                    has_building = dock
                }
                NOT = {
                    has_building = drydock
                }
            }
        }
    
        
        trigger = {
            num_of_owned_provinces_with = {
                value = 10
                OR = {
                    has_building = shipyard
                    has_building = grand_shipyard
                }
                OR = {
                    has_building = dock
                    has_building = drydock
                }
            }
            OR = {
                num_of_light_ship = 40
                num_of_heavy_ship = 20
            }
            OR = {
                num_of_admirals = 1
                num_of_explorers = 1
            }
        }
        
    
        effect = {
            custom_tooltip = expeditionToIndia.tooltip

            define_explorer = {
                shock = 1
                fire = 1
                manuever = 6
                siege = 1
                trait = accomplished_sailor_personality
            }

            every_province = {
                limit = {
                    AND = {
                        has_port = yes
                        OR = {
                            region = deccan_region
                            region = west_india_region
                            region = khorasan_region
                        }
                        province_has_center_of_trade_of_level = 1
                    }
                }
                add_permanent_claim = ROOT
            }

            hidden_effect = {
                every_province = {
                    limit = {
                        AND = {
                            has_port = yes
                            OR = {
                                region = deccan_region
                                region = west_india_region
                                region = khorasan_region
                            }
                        }
                    }
                    discover_country = ROOT
                }
                discover_province = 1328
                discover_province = 1329
                discover_province = 4333
                discover_province = 1330
                discover_province = 1331
                discover_province = 4346
                discover_province = 1333
                discover_province = 1336
                discover_province = 1332
                discover_province = 1337
                discover_province = 1338
                discover_province = 1339
                discover_province = 1340
            }
        }
    }


    ar_egypt_kush_legacy_kadesh = {
        icon = mission_arabian_fort       
        position = 4
        
        
        required_missions = {
            ar_egypt_kush_punish_levantites
        }
        
        
        provinces_to_highlight = {
            OR = {
                area = dulkadir_area
                area = ankara_area
                area = cukurova_area
                area = karaman_area
                area = rum_area
            }
            NOT = {
                owned_by = ROOT
            }
        }
    
        
        trigger = {
            legitimacy = 100
            NOT = {
                is_at_war = yes
            }
            dulkadir_area = {
                owned_by = ROOT
                type = all
                is_core = ROOT
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            cukurova_area = {
                owned_by = ROOT
                type = all
                is_core = ROOT
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            karaman_area = {
                owned_by = ROOT
                type = all
                is_core = ROOT
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            rum_area = {
                owned_by = ROOT
                type = all
                is_core = ROOT
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
            ankara_area = {
                owned_by = ROOT
                type = all
                is_core = ROOT
                NOT = {
                    has_rebel_faction = nationalist_rebels
                }
            }
        }
        
    
        effect = {
            add_country_modifier = {
                name = ar_egypt_hittite_dominion
                duration = 9125
            }

            if = {
                limit = {
                    exists = ASR
                }
                add_casus_belli = {
                    type = cb_vassalize_mission
                    target = ASR
                }
                mashriq_region = {
                    limit = {
                        NOT = {
                            owned_by = ASR
                        }
                    }
                    add_permanent_claim = ROOT
                }
                shahrizor_area = {
                    limit = {
                        NOT = {
                            owned_by = ASR
                        }
                    }
                    add_permanent_claim = ROOT
                }
            }

            else = {
                mashriq_region = {
                    add_permanent_claim = ROOT
                }
                shahrizor_area = {
                    add_permanent_claim = ROOT
                }
            }
        }
    }

    ar_egypt_kush_destroy_rome = {
        icon = ar_egypt_destroy_rome
        position = 5
        
    
        required_missions = {
            ar_egypt_kush_legacy_kadesh
        }
        
        
        provinces_to_highlight = {

        }
    
        
        trigger = {
            is_great_power = yes
            OR = {
                NOT = {
                    exists = ROM
                }
                ROM = {
                    is_subject_of = ROOT
                    NOT = {
                        total_development = ROOT
                    }
                }
                AND = {
                    war_score_against = {
                        who = ROM
                        value = 95
                    }
                    ROM = {
                        capital_scope = {
                            controlled_by = ROOT
                        }
                    }
                }
            }
            OR = {
                NOT = {
                    exists = BYZ
                }
                BYZ = {
                    is_subject_of = ROOT
                    NOT = {
                        total_development = ROOT
                    }
                }
                AND = {
                    war_score_against = {
                        who = BYZ
                        value = 95
                    }
                    BYZ = {
                        capital_scope = {
                            controlled_by = ROOT
                        }
                    }
                }
            }
            OR = {
                NOT = {
                    exists = TUR
                }
                TUR = {
                    is_subject_of = ROOT
                    NOT = {
                        total_development = ROOT
                    }
                }               
                AND = {
                    war_score_against = {
                        who = TUR
                        value = 95
                    }
                    TUR = {
                        capital_scope = {
                            controlled_by = ROOT
                        }
                    }
                }
            }
            OR = {
                NOT = {
                    exists = RUM
                }
                RUM = {
                    is_subject_of = ROOT
                    NOT = {
                        total_development = ROOT
                    }
                }
                AND = {
                    war_score_against = {
                        who = RUM
                        value = 95
                    }
                    RUM = {
                        capital_scope = {
                            controlled_by = ROOT
                        }
                    }
                }
            }
        }
        
    
        effect = {
            country_event = {
                id = ar_egypt_kemetic.2
            }
        }
    }

    ar_egypt_kush_new_empire_egypt = {
        icon = ar_egypt_new_empire
        position = 6
        
    
        required_missions = {
            ar_egypt_dominate_trade_horn
            ar_egypt_kush_destroy_rome
            ar_egypt_kush_legacy_destroy_assyria
        }
        
        
        provinces_to_highlight = {
        }
    
        
        trigger = {
            OR = {
                government_rank = 3
                total_development = 1500
            }
            OR = {
                AND = {
                    power_projection = 50
                    NOT = {
                        great_power_rank = 4
                    }
                }
                AND = {
                    NOT = {
                        great_power_rank = 2
                    }
                }
            }
            OR = {
                in_golden_age = yes
                has_had_golden_age = yes
            }
        }
    
        effect = {
            hidden_effect = {
                set_country_flag = ar_egypt_tributary_wars
            }
            custom_tooltip = ar_egypt_aegyptos_egyptian_empire.rewardCampaign.tooltip
            custom_tooltip = ar_egypt_aegyptos_egyptian_empire.rewardGoldenAge.tooltip
            if = { 
				limit = { has_had_golden_age = yes }
				reset_golden_age = yes 
			}
			else_if = { 	
				limit = { in_golden_age = yes } 
				extend_golden_age = 360 
			}
        }
    }
}

ar_egypt_kush_right = {
    slot = 5               
    generic = no             
    ai = yes              
    has_country_shield = yes  
    
    potential = {
        tag = EGP
    }
    
    ar_egypt_kush_economic_reforms = {
        icon = mission_trade_in_gold_coast    
        position = 1 
        
        required_missions = {
        }
        
        
        provinces_to_highlight = {
        }
    
        
        trigger = {
            stability = 1
            NOT = {
                average_autonomy_above_min = 5
            }
            NOT = {
                average_unrest = 1
            }
            OR = {
                full_idea_group = administrative_ideas
                full_idea_group = quantity_ideas
                monthly_adm = 12
            }
            total_development = 800
        }
        
        effect = {
            add_country_modifier = {
                name = ar_egypt_new_census
                duration = 7300
            }
            change_government_reform_progress = 50
        }
    }

	ar_egypt_kush_aegyptos_granary_med = {
        icon = ar_granary       
        position = 3 
        
        
        required_missions = {
            ar_egypt_kush_economic_reforms
        }
        
        
        provinces_to_highlight = {
            region = egypt_region
            OR = {
                trade_goods = grain
                trade_goods = sugar
                trade_goods = cotton
            }
            OR = {
                NOT = {
                    OR = {
                        has_building = farm_estate
                        has_building = plantations
                    }
                }
                NOT = {
                    OR = {
                        has_building = workshop
                        has_building = counting_house
                    }
                }
                NOT = {
                    base_production = 10
                }
                devastation = 1
            }
        }
    
        
        trigger = {
            358 = { is_strongest_trade_power = ROOT }
            calc_true_if = {
                amount = 5
                egypt_region = {
                    type = all
                    owned_by = ROOT
                    OR = {
                        trade_goods = grain
                        trade_goods = sugar
                        trade_goods = cotton
                    }
                    base_production = 10
                    has_production_building_trigger = yes
                    has_manufactory_trigger = yes
                }
            }
        }
        
    
        effect = {
            add_years_of_owned_provinces_production_income = {
                years = 2
                trigger = {
                    OR = {
                        trade_goods = grain
                        trade_goods = sugar
                        trade_goods = cotton
                    }
                }
                custom_tooltip = ar_egypt_5yearsGrainProduction
            }
            every_province = {
                limit = {
                    OR = {
                        trade_goods = grain
                        trade_goods = sugar
                        trade_goods = cotton
                    }
                    region = egypt_region
                }
                add_province_modifier = {
                    name = ar_egypt_granary_med
                    duration = -1
                }
            }
        }
    }

    ar_egypt_kush_beyond_the_horizon = {
        icon = mission_grand_bengali_shipyards      
        position = 4
        
        
        required_missions = {
            ar_egypt_kush_fleet
        }
        
        
        provinces_to_highlight = {
            OR = {
                region = deccan_region
                region = coromandel_region
                region = west_india_region
            }
            OR = {
                NOT = {
                    owned_by = ROOT
                }
                AND = {
                    owned_by = ROOT
                    NOT = {
                        is_owned_by_trade_company = yes
                    }
                }
            }
        }
    
        
        trigger = {
            num_of_owned_provinces_with = {
                value = 40
                is_owned_by_trade_company = yes
                OR = {
                    region = coromandel_region
                    region = deccan_region
                    region = west_india_region
                }
            }
            estate_influence = {
                estate = estate_burghers
                influence = 50
            }
            estate_loyalty = {
                estate = estate_burghers
                loyalty = 60
            }
        }
    
        effect = {
            add_country_modifier = {
                name = ar_kush_foreign_viziers
                duration = -1
            }
        }
    }

    
    ar_egypt_kush_legacy_destroy_assyria = {
        icon = mission_arabian_fort       
        position = 5
        
        
        required_missions = {
            ar_egypt_kush_legacy_kadesh
        }
        
        
        provinces_to_highlight = {
            NOT = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            OR = {
                area = shahrizor_area
                region = mashriq_region
            }
        }
    
        
        trigger = {
            if = {
                limit = {
                    NOT = {
                        exists = ASR
                    }            
                }
                mashriq_region = {
                    type = all
                    owned_by = ROOT
                }
                shahrizor_area = {
                    type = all
                    owned_by = ROOT
                }
            }
            else = {
                ASR = {
                    is_subject_of = ROOT
                    NOT = {
                        liberty_desire = 50
                    }
                }
                mashriq_region = {
                    type = all
                    OR = {
                        owned_by = ROOT
                        owned_by = ASR
                    }
                }
                shahrizor_area = {
                    type = all
                    owned_by = ROOT
                    OR = {
                        owned_by = ROOT
                        owned_by = ASR
                    }
                }
            }
        }
            
        effect = {
            mashriq_region = {
                add_core = ASR
            }
            shahrizor_area = {
                add_core = ASR
            }
            if = {
                limit = {
                    ASR = {
                        NOT = {
                            is_subject_of = ROOT
                        }
                    }
                }
                custom_tooltip = releaseAssyriaMarch.tooltip
                hidden_effect = {
                    release = ASR
                    create_march = ASR
                    ASR = {
                        change_religion = zoroastrian
                        capital_scope = {
                            change_religion = zoroastrian
                        }
                    }
                    add_historical_friend = ASR
                    ASR = {
                        add_historical_friend = ROOT
                    }  
                }
            }
            bahrain_area = {
                add_permanent_claim = ROOT
            }
            khuzestan_area = {
                add_permanent_claim = ROOT
            }
            persian_gulf_coast = {
                add_permanent_claim = ROOT
            }
        }
    }
}