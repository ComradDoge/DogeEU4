custom_icon = {
	name = debug_buildings_background
    potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
}

custom_text_box = {
    name = debug_buildings_header_text #Must match a scripted instantTextBoxType in a .gui file
    potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	} #Determines when the text is visible
    #tooltip = ESTATE_ACTION_DESCRIPTION #Can use customizable localisation
    #To localize it, use the name of the button as a key, can also use customizable localisation
}

custom_button = {
	name = debug_buildings_build_marketplace
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = marketplace }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							has_building = stock_exchange
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = marketplace
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = trade_depot
				remove_building = stock_exchange
			}
			add_building = marketplace
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = trade_depot
					remove_building = stock_exchange
				}
				add_building = marketplace
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_trade_depot
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = trade_depot }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							has_building = stock_exchange
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = trade_depot
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = trade_depot
		}
		else = {
			area = {
				add_building = trade_depot
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_stock_exchange
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = stock_exchange }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							has_building = stock_exchange
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = stock_exchange
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = trade_depot
			}
			add_building = stock_exchange
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = trade_depot
				}
				add_building = stock_exchange
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_town_hall
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = town_hall }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = town_hall
							has_building = courthouse
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = town_hall
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = courthouse
			}
			add_building = town_hall
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = courthouse
				}
				add_building = town_hall
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_courthouse
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = courthouse }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = town_hall
							has_building = courthouse
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = courthouse
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = courthouse
		}
		else = {
			area = {
				add_building = courthouse
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_university
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = university }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = university
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = university
		}
		else = {
			area = {
				add_building = university
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_dock
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = dock }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = dock
							has_building = drydock
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = dock
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = drydock
			}
			add_building = dock
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = drydock
				}
				add_building = dock
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_drydock
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = drydock }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = dock
							has_building = drydock
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = drydock
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = drydock
		}
		else = {
			area = {
				add_building = drydock
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_shipyard
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = shipyard }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = shipyard
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = grand_shipyard
			}
			add_building = shipyard
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = grand_shipyard
				}
				add_building = shipyard
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_grand_shipyard
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = grand_shipyard }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = grand_shipyard
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = grand_shipyard
		}
		else = {
			area = {
				add_building = grand_shipyard
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_workshop
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = workshop }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = workshop
							has_building = counting_house
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = workshop
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = counting_house
			}
			add_building = workshop
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = counting_house
				}
				add_building = workshop
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_counting_house
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = counting_house }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = workshop
							has_building = counting_house
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = counting_house
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = counting_house
		}
		else = {
			area = {
				add_building = counting_house
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_barracks
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = barracks }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = barracks
							has_building = training_fields
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = barracks
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = training_fields
			}
			add_building = barracks
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = training_fields
				}
				add_building = barracks
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_training_fields
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = training_fields }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = barracks
							has_building = training_fields
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = training_fields
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = training_fields
		}
		else = {
			area = {
				add_building = training_fields
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_regimental_camp
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = regimental_camp }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = regimental_camp
							has_building = conscription_center
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = regimental_camp
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = conscription_center
			}
			add_building = regimental_camp
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = conscription_center
				}
				add_building = regimental_camp
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_conscription_center
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = conscription_center }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = regimental_camp
							has_building = conscription_center
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = conscription_center
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = conscription_center
		}
		else = {
			area = {
				add_building = conscription_center
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_temple
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = temple }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = temple
							has_building = cathedral
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = temple
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = cathedral
			}
			add_building = temple
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = cathedral
				}
				add_building = temple
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_cathedral
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = cathedral }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = temple
							has_building = cathedral
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = cathedral
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = cathedral
		}
		else = {
			area = {
				add_building = cathedral
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_fort_15th
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = fort_15th }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = fort_15th
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = fort_16th
				remove_building = fort_17th
				remove_building = fort_18th
			}
			add_building = fort_15th
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = fort_16th
					remove_building = fort_17th
					remove_building = fort_18th
				}
				add_building = fort_15th
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_fort_16th
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = fort_16th }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = fort_16th
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = fort_17th
				remove_building = fort_18th
			}
			add_building = fort_16th
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = fort_17th
					remove_building = fort_18th
				}
				add_building = fort_16th
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_fort_17th
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = fort_17th }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = fort_17th
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = fort_18th
			}
			add_building = fort_17th
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = fort_18th
				}
				add_building = fort_17th
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_fort_18th
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = fort_18th }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = fort_15th
							has_building = fort_16th
							has_building = fort_17th
							has_building = fort_18th
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = fort_18th
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = fort_18th
		}
		else = {
			area = {
				add_building = fort_18th
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_coastal_defence
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = coastal_defence }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = coastal_defence
							has_building = naval_battery
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = coastal_defence
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			hidden_effect = {
				remove_building = naval_battery
			}
			add_building = coastal_defence
		}
		else = {
			area = {
				hidden_effect = {
					remove_building = naval_battery
				}
				add_building = coastal_defence
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_naval_battery
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = naval_battery }
			if = {
				limit = {
					NOT = {
						OR = {
							has_building = coastal_defence
							has_building = naval_battery
						}
					}
				}
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					NOT = { num_of_buildings_in_province = 12 }
				}
				else = {
					NOT = { num_of_buildings_in_province = 10 }
				}
			}
		}
		else = {
			has_building = naval_battery
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = naval_battery
		}
		else = {
			area = {
				add_building = naval_battery
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_manufactory
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_manufactory_no_custom_tooltip_trigger = yes }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_manufactory_no_custom_tooltip_trigger = yes
		}
	}
	effect = { 
		
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_manufactory = yes
		}
		else = {
			area = {
				add_manufactory = yes
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_ramparts
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = ramparts }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = ramparts
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = ramparts
		}
		else = {
			area = {
				add_building = ramparts
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_impressment_offices
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = impressment_offices }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = impressment_offices
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = impressment_offices
		}
		else = {
			area = {
				add_building = impressment_offices
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_state_house
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = state_house }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = state_house
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = state_house
		}
		else = {
			area = {
				add_building = state_house
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_soldier_households
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = soldier_households }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = soldier_households
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = soldier_households
		}
		else = {
			area = {
				add_building = soldier_households
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_furnace
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { has_building = furnace }
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				NOT = { num_of_buildings_in_province = 12 }
			}
			else = {
				NOT = { num_of_buildings_in_province = 10 }
			}
		}
		else = {
			has_building = furnace
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_using_state_scope } }
			}
			add_building = furnace
		}
		else = {
			area = {
				add_building = furnace
			}
		}
	}
}

custom_button = {
	name = debug_buildings_build_cot
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			NOT = { province_has_center_of_trade_of_level = 3 }
		}
		else = {
			province_has_center_of_trade_of_level = 1
		}
	}
	effect = { 
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = debug_toggle_lower_cot } }
			}
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				center_of_trade = 1
			}
			else = {
				add_center_of_trade_level = 1
			}
		}
		else = {
			if = {
				limit = {
					province_has_center_of_trade_of_level = 1
					NOT = { province_has_center_of_trade_of_level = 2 }
				}
				center_of_trade = -1
			}
			else = {
				add_center_of_trade_level = -1
			}
		}
	}
}

custom_button = {
	name = debug_toggle_raise_lower_cot_button
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
	}
	effect = { 
		hidden_effect = {
			FROM = {
				if = {
					limit = {
						has_country_flag = debug_toggle_lower_cot
					}
					clr_country_flag = debug_toggle_lower_cot
				}
				else = {
					set_country_flag = debug_toggle_lower_cot
				}
			}
		}
	}
}

custom_icon = {
	name = debug_toggle_raise_lower_cot_indicator
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	frame = {  #Can define multiple frame clauses
        number = 2 #Which frame to use. Check dds files with multiple icons like icon_religion.dds
        trigger = { 
			FROM = {
				NOT = { has_country_flag = debug_toggle_lower_cot }
			}
		}
    }
	frame = {  #Can define multiple frame clauses
        number = 4 #Which frame to use. Check dds files with multiple icons like icon_religion.dds
		trigger = { 
			FROM = {
				has_country_flag = debug_toggle_lower_cot 
			}
		}
    }
}

custom_button = {
	name = debug_toggle_instant_great_project_button
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	trigger = {
		#custom_trigger_tooltip = {
		#	tooltip = "Is using Debug Mode"
		#	FROM = { has_country_flag = debug_mode_active }
		#}
	}
	effect = { 
		if = {
			limit = {
				has_province_flag = debug_free_instant_great_project
			}
			remove_province_modifier = debug_free_instant_great_project
			clr_province_flag = debug_free_instant_great_project
		}
		else = {
			add_province_modifier = {
				name = debug_free_instant_great_project
				duration = -1
			}
			set_province_flag = debug_free_instant_great_project
		}
	}
	tooltip = "Toggle the instant and free construction of great projects."
}

custom_icon = {
	name = debug_toggle_instant_great_project_indicator
	potential = {
		AND = {
			FROM = { ai = no }
			FROM = { has_country_flag = debug_mode_active }
			FROM = { has_country_flag = debug_menu_active }
			FROM = { has_country_flag = debug_building_menu_active }
		}
	}
	frame = {  #Can define multiple frame clauses
        number = 2 #Which frame to use. Check dds files with multiple icons like icon_religion.dds
        trigger = { 
			NOT = { ROOT = { has_province_flag = debug_free_instant_great_project } }
		}
    }
	frame = {  #Can define multiple frame clauses
        number = 4 #Which frame to use. Check dds files with multiple icons like icon_religion.dds
		trigger = {
			ROOT = { has_province_flag = debug_free_instant_great_project }
		}
    }
}

##############################  Supported files with scopes ##############################
#   The Gui objects must be directly inside the specified window Gui element!
#   FROM is always the country that clicks
#   provinceview.gui:
#       province_window         (ROOT: Clicked province)
#       buildings_window        (ROOT: Clicked province)
#       state_window            (ROOT: Clicked province)
#   countrycourtview.gui:
#       countrycourtview        (ROOT = FROM)
#   countrygovernmentview.gui:
#       countrygovernmentview   (ROOT = FROM)
#   countrydiplomacyview.gui:
#       countrydiplimacyview    (ROOT: Selected country)
#   countryeconomyview.gui:
#       countryeconomyview      (ROOT = FROM)
#   countrytradeview.gui:
#       countrytradeview        (ROOT = FROM)
#   countrytechnologyview.gui:
#       countrytechnologyview   (ROOT = FROM)
#   countryideasview.gui:
#       countryideasview        (ROOT = FROM)
#   countrymissionsview.gui:
#       countrymissionsview     (ROOT: Selected country)
#   countrydecisionview.gui:
#       countrydecisionsview    (ROOT = FROM)
#   countrystabilityview.gui:
#       countrystabilityview    (ROOT = FROM)
#   countryreligionview.gui:
#       countryreligionview     (ROOT = FROM)
#   countrymilitaryview.gui:
#       countrymilitaryview     (ROOT = FROM)
#   countrysubjectsview.gui:
#       countrysubjectview      (ROOT = FROM)
#   countryestatesview.gui:
#       countryestatesview      (ROOT = FROM)
#   ages_view.gui:
#       ages_view               (ROOT = FROM)
#   tradeinterface.gui:
#       TradeNodeInterface      (ROOT: Trade capital of a trade node)
#   hre.gui:
#       hre_window              (ROOT = FROM)
#   papacy.gui:
#       papacy_window           (ROOT = FROM)
#   faction.gui:
#       All faction windows     (ROOT = FROM)
#   celestialempireview.gui:
#       celestial_window        (ROOT = FROM)
#   countrynativesview.gui:
#       natives_window          (ROOT = FROM)
#   religiousreforms.gui:
#       reforms_window          (ROOT = FROM)
#   parliament.gui:
#       parliament_window       (ROOT = FROM)
